\section{Background}

\noindent\textbf{Basic Fuzzy Logic:} Basic Fuzzy Logic (BL)  is a relaxation of first-order logic that operates on continuous truth
values on the interval [0, 1] instead of on boolean values. BL
uses a class of functions called \textit{t-norms} ($\otimes$), which preserves
the semantics of boolean conjunctions on continuous truth
values. Formally, a t-norm is defined $\otimes$ : $[0, 1] \times [0, 1] \rightarrow [0, 1]$ such that:
\begin{itemize}
    \item $\otimes$ is consistent for any $t \in [0, 1]:$ 

            \quad \quad \quad  $$t \otimes 1 = t \quad\quad t \otimes 0 = 0$$
    % \item \otimes \text{is commutative and associative for any t \in [0, 1]:} $$ t_{1} \otimes t_{2} = t_{2} \otimes t_{1} \quad t_{1} \otimes (t_{2} \otimes t_{3}) = (t_{1} \otimes t_{2}) \otimes t_{3} $$
\end{itemize}

\begin{itemize}
    \item $\otimes$ \text{is commutative and associative for any $t \in [0, 1]$:} 
    
        $$ t_{1} \otimes t_{2} = t_{2} \otimes t_{1} \quad t_{1} \otimes (t_{2} \otimes t_{3}) = (t_{1} \otimes t_{2}) \otimes t_{3} $$
\end{itemize}

\begin{itemize}
    \item $\otimes$ is monotonic (non decreasing) for any $t \in [0, 1]$:

        $$ t_{1} \leq t_{2} \implies t_{1} \otimes t_{3} \leq t_{2} \otimes t_{3} $$
\end{itemize}

\begin{table*}[t]
\begin{tabular*}{\textwidth}{c @{\extracolsep{\fill}} cccc}
  & Lukaseiwicz: & Godel: & Product: \\ 
 tnorm ($\otimes$) & $max(0, t + u − 1)$ & $min(t, u)$ & $t * u$ \\  
 tconorm ($\oplus$) & $min(t + u, 1)$ & $max(t, u)$ & $t + u - t * u$
\end{tabular*}
\caption{}
\label{tab:tnorm_conorm}
\end{table*}

\noindent BL additionally requires that t-norms be continuous. \textit{T-conorms} ($\oplus$) are derived from t-norms via DeMorgan’s law and operate as disjunctions on continuous truth values, while negations are defined $\neg{t} := 1 - t$.

\noindent Three widely used t-norms that satisfy the requirements are the
Lukaseiwicz t-norm \cite{luka}, the Godel t-norm \cite{baaz1996} and the product t-norm \cite{hajek1996}. Each t-norm has a \textit{t-conorm} associated with it (denoted $\oplus$), which can be
considered as logical disjunction. Given a t-norm $\otimes$, the t-conorm can be derived with DeMorgan’s
law: $t \oplus u$ $\overset{\Delta}{=}$ $\neg{(\neg{t} \otimes \neg{u})}$. Table \ref{tab:tnorm_conorm} shows the formule for tnorms and tconorms.

% \centering


\noindent\textbf{Gated t-norms and gated t-conorms:} Given a classic t-norm $T(x, y) = x \otimes y$, we define its associated gated t-norm as 

$$T_{G}(x,y;g_{1},g_{2}) = (1*(1 - g_{1}) + x*g_{1}) \otimes (1*(1 - g_{2}) + y*g_{2})$$

Here $g_{1}, g_{2} \in [0, 1]$ are gate parameters indicating if x and y are activated, respectively.

Gates $g_{1}, g_{2}$ are learnt from Neural Network.

\noindent Given a threshold T let,
\[
    g_{i}^{'} =
    \begin{cases}
        1 & g_{i} > T\\
        0 & otherwise
    \end{cases}    
\]

\[\label{def}
    T_{G}(x,y;g_{1}^{'},g_{2}^{'})= 
\begin{cases}
    x \otimes y & g_{1}^{'} = 1 \hspace{2mm} \text{and} \hspace{2mm} g_{2}^{'} = 1\\
    x & g_{1}^{'} = 1 \hspace{2mm} \text{and} \hspace{2mm} g_{2}^{'} = 0\\
    y & g_{1}^{'} = 0 \hspace{2mm} \text{and} \hspace{2mm} g_{2}^{'} = 1\\
    1 & g_{1}^{'} = 0 \hspace{2mm} \text{and} \hspace{2mm} g_{2}^{'} = 0
\end{cases}
\]

\noindent $(1 + g_{1}(x - 1))$ gives a convex combination of $1$ and $x$ for the values of $g_{1}$ and $g_{2}$ $\in (0, 1)$.
Similarly, for $(1 + g_{1}(y - 1))$

Using DeMorgan’s laws $x \otimes y = 1 - ((1 - x) \otimes (1 - y))$, we define gated t-conorms as

$$T_{G}^{'}(x,y;g_{1},g_{2}) = 1 - ((1 - g_{1}*x) \otimes (1 - g_{2}*y))$$,

and has following property - 
\[
    T_{G}^{'}(x,y;g_{1}^{'},g_{2}^{'})= 
\begin{cases}
    x \otimes y & g_{1}^{'} = 1 \hspace{2mm} \text{and} \hspace{2mm} g_{2}^{'} = 1\\
    x & g_{1}^{'} = 1 \hspace{2mm} \text{and} \hspace{2mm} g_{2}^{'} = 0\\
    y & g_{1}^{'} = 0 \hspace{2mm} \text{and} \hspace{2mm} g_{2}^{'} = 1\\
    0 & g_{1}^{'} = 0 \hspace{2mm} \text{and} \hspace{2mm} g_{2}^{'} = 0
\end{cases}
\]

\noindent\textbf{Continuous Logic Network (CLN):} CLN's are based on parametric relaxation Logical formulas that maps the logical formulation from boolean first order logic to BL.
The model defines the operator $\mathcal{S}$. A quantifier-free boolean formula $F: X \rightarrow {True, False}$, $\mathcal{S}$ maps it to a continuous function 
$\mathcal{S}(F): X \rightarrow [0, 1]$. In order for the continuous model to be both usable in gradient-guided optimization while also preserving the semantics of boolean
logic, it must fulfill three conditions:

\begin{enumerate}
    \item It must preserve the meaning of the logic, such that the continuous truth values of a valid assignment are always greater than the value of an invalid assignment:
        \begin{dmath}$(F(x) = True \wedge F(x') = False) \implies \mathcal{S}(F)(x) > \mathcal{S}(F)(x')$\end{dmath}
    \item It must be must be continuous and smooth (i.e. differentiable almost everywhere) to facilitate training.
    \item It must be strictly increasing as an unsatisfying assignment of terms approach satisfying the mapped formula,
and strictly decreasing as a satisfying assignment of
terms approach violating the formula.
\end{enumerate}

\script{S} is constructed as follows to satisfy these requirements. The
logical relations {$\wedge, \lor, \lnot$} are mapped to their continuous
equivalents in BL:

$$Conjunction: \script{S}(F_{1} \wedge F_{2}) \triangleq \script{S} (F_{1}) \otimes \mathcal{S} (F_{2})$$
$$Disjunction: \script{S}(F_{1} \lor \F_{2}) \triangleq \script{S} (F_{1}) \otimes \mathcal{S} (F_{2})$$
$$Negation: \script{S}(\neg{F}) \triangleq 1 - \script{S}(F)$$

For Gated CLN, we use gated t-norms and gated t-conorms.